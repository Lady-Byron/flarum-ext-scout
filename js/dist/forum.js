(()=>{var t={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},d:(e,r)=>{for(var i in r)t.o(r,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:r[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};(()=>{"use strict";const e=flarum.core.compat["forum/app"];var r=t.n(e);const i=flarum.core.compat["common/extend"],n=flarum.core.compat["forum/components/DiscussionsSearchSource"];var o=t.n(n);const s=flarum.core.compat["forum/components/DiscussionListItem"];var a=t.n(s);const l=flarum.core.compat["common/components/Link"];var c=t.n(l);const u=flarum.core.compat["common/helpers/highlight"];var d=t.n(u);r().initializers.add("lady-byron-scout",function(){(0,i.extend)(o().prototype,"view",function(t,e){if(Array.isArray(t)){var i=this.results.get(e.toLowerCase())||[];i.length&&t.forEach(function(t){var n,o=null==t||null==(n=t.attrs)?void 0:n["data-index"];if(o&&"string"==typeof o&&o.startsWith("discussions")){var s=o.replace("discussions",""),a=i.find(function(t){return String(t.id())===s});if(a){var l=a.attribute("titleHighlight"),u=a.attribute("contentHighlight"),f=null==a.mostRelevantPost?void 0:a.mostRelevantPost(),v=l?m.trust(l):d()(a.title()||"",e),h=null;if(u)h=m.trust(u);else if(f){var p=null==f.contentPlain?void 0:f.contentPlain();p&&(h=d()(p,e,100))}var g=null==f||null==f.number?void 0:f.number(),y=r().route.discussion(a,g);t.children=[m(c(),{href:y},[m("div",{className:"DiscussionSearchResult-title"},v),h?m("div",{className:"DiscussionSearchResult-excerpt"},h):null].filter(Boolean))]}}})}}),(0,i.extend)(a().prototype,"view",function(t){var e=this.attrs.discussion;if(e){var r=e.attribute("titleHighlight");if(r){var i=function(t){var e,n;if(t&&"object"==typeof t){var o=(null==(e=t.attrs)?void 0:e.className)||(null==(n=t.attrs)?void 0:n.class)||"";"string"==typeof o&&o.includes("DiscussionListItem-title")?t.children=[m.trust(r)]:Array.isArray(t.children)?t.children.forEach(i):t.children&&i(t.children)}};i(t)}}})})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map